# Requirements Archive: Qase Report v1.1 History & Trends

**Archived:** 2026-02-10
**Status:** SHIPPED

---

## v1.1 Requirements (All Complete)

**Core Value:** Пользователь может видеть историю и тренды тестов для анализа стабильности и производительности

### History Infrastructure

- [x] **HIST-01**: User can load test-history.json with historical run data
- [x] **HIST-02**: System validates history data with Zod schema and version field
- [x] **HIST-03**: System tracks tests across runs by signature (not UUID)
- [x] **HIST-04**: System stores history in localStorage with tiered loading

### Trend Visualization

- [x] **TRND-01**: User can see pass rate trend chart (passed/failed/skipped over time)
- [x] **TRND-02**: User can see duration trend chart (test execution time over time)
- [x] **TRND-03**: User can see history timeline of recent runs with status indicators
- [x] **TRND-04**: Charts show tooltips with details on hover

### Flakiness Detection

- [x] **FLKY-01**: System detects flaky tests using multi-factor algorithm (status changes, error consistency)
- [x] **FLKY-02**: User can see stability badges on test list items (flaky, stable, new failure)
- [x] **FLKY-03**: User can see flakiness percentage ("flaky in X of Y runs")
- [x] **FLKY-04**: Flakiness detection uses minimum 5-run window for accuracy

### Regression Alerts

- [x] **REGR-01**: System detects performance regressions using 2-sigma outlier detection
- [x] **REGR-02**: User can see alerts panel on dashboard with flakiness and regression warnings
- [x] **REGR-03**: User can click alert to navigate to affected test

### Stability Scoring

- [x] **STAB-01**: System calculates stability grade (A+ to F) based on pass rate, flakiness, duration variance
- [x] **STAB-02**: User can group/filter tests by stability grade
- [x] **STAB-03**: User can see test health widget on dashboard with grade distribution

## Traceability (Final)

| Requirement | Phase | Status |
|-------------|-------|--------|
| HIST-01 | Phase 8 | Complete |
| HIST-02 | Phase 8 | Complete |
| HIST-03 | Phase 8 | Complete |
| HIST-04 | Phase 8 | Complete |
| TRND-01 | Phase 9 | Complete |
| TRND-02 | Phase 9 | Complete |
| TRND-03 | Phase 9 | Complete |
| TRND-04 | Phase 9 | Complete |
| FLKY-01 | Phase 10 | Complete |
| FLKY-02 | Phase 10 | Complete |
| FLKY-03 | Phase 10 | Complete |
| FLKY-04 | Phase 10 | Complete |
| REGR-01 | Phase 11 | Complete |
| REGR-02 | Phase 11 | Complete |
| REGR-03 | Phase 11 | Complete |
| STAB-01 | Phase 12 | Complete |
| STAB-02 | Phase 12 | Complete |
| STAB-03 | Phase 12 | Complete |

**Coverage:**
- v1.1 requirements: 18 total
- Completed: 18 (100%)

## Future Requirements (Deferred)

Tracked for v1.2+:

- **HIST-05**: User can configure history retention (max runs to keep)
- **HIST-06**: System migrates to IndexedDB when localStorage exceeds 4MB
- **HIST-07**: User can compare two historical runs side-by-side
- **TRND-05**: User can see moving averages on trend charts
- **STAB-04**: User can customize stability score weights
- **REGR-04**: User can configure regression detection sensitivity
- **EXPT-01**: User can export analytics report as PDF/HTML

## Out of Scope

| Feature | Reason |
|---------|--------|
| Real-time streaming | Breaks static HTML model, low value for post-run analysis |
| AI failure categorization | Requires external API keys, privacy concerns |
| Infinite history | Storage bloat, diminishing returns after 30-50 runs |
| Per-step performance tracking | Exponentially increases data volume, step IDs unstable |
| Automatic root cause analysis | AI = API problems, rule-based = maintenance nightmare |

---
*Archived: 2026-02-10 after v1.1 milestone completion*
