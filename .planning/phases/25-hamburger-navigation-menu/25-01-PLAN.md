---
phase: 25-hamburger-navigation-menu
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/App.tsx
autonomous: false

must_haves:
  truths:
    - "User sees hamburger menu icon in top bar"
    - "User clicks hamburger and navigation dropdown opens"
    - "User sees text labels for all navigation items"
    - "User clicks navigation item and dropdown closes"
    - "User navigates to selected view successfully"
  artifacts:
    - path: "src/App.tsx"
      provides: "Hamburger menu IconButton with Menu dropdown"
      contains: "MenuIcon"
    - path: "src/App.tsx"
      provides: "MenuItem components for each view"
      contains: "MenuItem"
  key_links:
    - from: "src/App.tsx"
      to: "RootStore.setActiveView"
      via: "MenuItem onClick handler"
      pattern: "setActiveView\\("
    - from: "src/App.tsx"
      to: "RootStore.activeView"
      via: "useRootStore hook"
      pattern: "useRootStore\\(\\)"
---

<objective>
Add hamburger menu navigation to top bar for accessing all application views.

Purpose: Replace permanent sidebar navigation with compact dropdown menu in top bar, simplifying layout and maximizing content space.
Output: Hamburger menu IconButton in AppBar with dropdown showing Overview, Tests, Failure Clusters, Gallery, Comparison, Analytics navigation items.
</objective>

<execution_context>
@/Users/gda/.claude/get-shit-done/workflows/execute-plan.md
@/Users/gda/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Current implementation references
@src/App.tsx
@src/store/index.tsx
@src/components/NavigationDrawer/index.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add hamburger menu with navigation dropdown to AppBar</name>
  <files>src/App.tsx</files>
  <action>
Add hamburger menu navigation to the AppBar in src/App.tsx:

**1. Add MUI imports:**
- Import Menu, MenuItem, and Menu icon from @mui/material and @mui/icons-material
- Import useState from react (already imported)
- Import useRootStore hook (for accessing activeView and setActiveView)

**2. Add menu state:**
- Add `const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null)` for menu anchor
- Derive `const open = Boolean(anchorEl)` for menu open state

**3. Add hamburger IconButton to AppBar:**
- Add IconButton with MenuIcon at the **start** of the Toolbar (before title)
- Wire onClick to `(e) => setAnchorEl(e.currentTarget)`
- Add aria-label="Open navigation menu"
- Add aria-controls and aria-haspopup for accessibility

**4. Add Menu component with navigation items:**
- Place Menu component after AppBar closing tag (before NavigationDrawer)
- Configure: anchorEl={anchorEl}, open={open}, onClose={() => setAnchorEl(null)}
- Add 6 MenuItem components for each view (matching NavigationDrawer navItems order):
  1. Dashboard (with DashboardIcon)
  2. Tests (with FormatListBulleted icon)
  3. Failure Clusters (with ErrorOutline icon)
  4. Gallery (with Collections icon)
  5. Comparison (with CompareArrows icon)
  6. Analytics (with BubbleChart icon)
- Each MenuItem should:
  - Have ListItemIcon with icon (sx={{ minWidth: 40 }})
  - Have ListItemText with primary label
  - Wire onClick to call `setActiveView(viewId)` then `setAnchorEl(null)` (close menu)
  - Add selected prop checking `activeView === viewId`

**5. Import icons from @mui/icons-material:**
- Dashboard as DashboardIcon
- FormatListBulleted
- ErrorOutline
- Collections
- CompareArrows
- BubbleChart

**Icon order matches NavigationDrawer (Dashboard, Tests, Failure Clusters, Gallery, Comparison, Analytics).**

**Do NOT** remove NavigationDrawer yet (Phase 28 handles removal).
**Do NOT** add tooltip or other decorations.
**Use** text labels in MenuItem (not icon-only) per research showing improved discoverability.
  </action>
  <verify>
Run `npm run dev` and open browser:
1. Hamburger menu icon visible at start of top bar
2. Click hamburger opens dropdown menu
3. All 6 navigation items visible with text labels
4. Click menu item navigates to view and closes menu
5. Active view has selected styling in menu
  </verify>
  <done>
Hamburger menu IconButton exists in AppBar, Menu component renders 6 MenuItem navigation items with text labels and icons, clicking MenuItem calls setActiveView and closes menu, active view has selected styling.
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 2: Verify hamburger menu navigation</name>
  <what-built>Hamburger menu navigation with dropdown in top bar</what-built>
  <how-to-verify>
**Test hamburger menu navigation:**

1. Start dev server: `npm run dev`
2. Open browser to localhost:5173
3. Load a test report (if not already loaded)

**Verify menu appearance:**
- [ ] Hamburger menu icon (three horizontal lines) visible at start of top bar before "Qase | Report" title
- [ ] Icon has proper spacing and alignment with other top bar elements

**Verify menu interaction:**
- [ ] Click hamburger icon → dropdown menu opens below icon
- [ ] Menu shows 6 items with icons and text labels:
  - Dashboard (grid icon)
  - Tests (bullet list icon)
  - Failure Clusters (error icon)
  - Gallery (collections icon)
  - Comparison (arrows icon)
  - Analytics (bubble chart icon)
- [ ] Current active view has selected/highlighted styling
- [ ] Click "Tests" menu item → navigates to Tests view AND menu closes automatically
- [ ] Click hamburger again → menu opens with "Tests" now selected
- [ ] Navigate to different views (Dashboard, Failure Clusters, Gallery, Comparison, Analytics) → each navigation works and menu closes

**Verify layout:**
- [ ] Menu doesn't overlap other top bar elements
- [ ] Menu has proper width and padding
- [ ] Text labels are fully readable (not truncated)

**Expected outcome:** All navigation functionality works via hamburger menu. Both NavigationDrawer and hamburger menu should coexist (drawer removal happens in Phase 28).
  </how-to-verify>
  <resume-signal>Type "approved" when navigation works correctly, or describe any issues</resume-signal>
</task>

</tasks>

<verification>
1. Hamburger menu IconButton present in AppBar with MenuIcon
2. Menu component renders with 6 MenuItem navigation items
3. Each MenuItem has icon + text label (not icon-only)
4. Clicking MenuItem calls setActiveView and closes menu
5. Active view reflected in selected MenuItem styling
6. Navigation successfully changes application view
7. Menu closes automatically after selection
</verification>

<success_criteria>
Phase complete when:
- User sees hamburger menu icon in top bar
- User clicks hamburger and navigation dropdown opens showing all 6 views
- User sees text labels (not just icons) for all navigation items
- User clicks navigation item and menu closes automatically
- User successfully navigates to selected view
- Active view highlighted in menu
</success_criteria>

<output>
After completion, create `.planning/phases/25-hamburger-navigation-menu/25-01-SUMMARY.md`
</output>
