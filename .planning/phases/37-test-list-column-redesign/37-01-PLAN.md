---
phase: 37-test-list-column-redesign
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/TestList/columns.tsx
  - src/components/TestList/statusIcon.tsx
autonomous: true
must_haves:
  truths:
    - "User sees ID column with gear icon prefix for each test"
    - "User sees STATUS column with colored Badge (Passed/Failed/Skipped/Broken)"
    - "User sees TITLE column with test name as primary content"
    - "User sees DURATION column with clock icon and formatted time"
    - "User sees column headers (ID, STATUS, TITLE, DURATION) text in suite rows"
  artifacts:
    - path: "src/components/TestList/columns.tsx"
      provides: "Redesigned column definitions with ID, STATUS, TITLE, DURATION"
      contains: "Settings.*Clock.*Badge"
  key_links:
    - from: "src/components/TestList/columns.tsx"
      to: "src/components/ui/badge.tsx"
      via: "Badge component import with status variants"
      pattern: "Badge.*variant.*passed|failed|skipped|broken"
---

<objective>
Redesign test list columns to match Qase TMS visual style.

Purpose: The current combined "Name" column mixes ID and title information. Qase TMS uses separate columns for ID (with gear icon), STATUS (colored badge), TITLE (test name), and DURATION (with clock icon). Suite rows display column header labels instead of values.

Output: Updated columns.tsx with new column structure matching requirements LIST-01 through LIST-05.
</objective>

<execution_context>
@/Users/gda/.claude/get-shit-done/workflows/execute-plan.md
@/Users/gda/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/37-test-list-column-redesign/37-RESEARCH.md

@src/components/TestList/columns.tsx
@src/components/TestList/buildSuiteTree.ts
@src/components/ui/badge.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Restructure columns to ID, STATUS, TITLE, DURATION</name>
  <files>src/components/TestList/columns.tsx</files>
  <action>
Rewrite the column definitions in columns.tsx:

1. **ID column** (replaces Name column expand/chevron logic):
   - Import `Settings` icon from lucide-react
   - Keep expand/collapse chevron logic with `e.stopPropagation()` and `row.toggleExpanded()`
   - Preserve depth-based indentation: `paddingLeft: ${row.depth * 1.5}rem`
   - Add Settings (gear) icon prefix after chevron: `<Settings className="h-4 w-4 mr-2 text-muted-foreground" />`
   - For tests: Display `testops_ids[0]` if available, else first 8 chars of UUID
   - For suites: Display suite title (suiteTitle)
   - Set `size: 150`

2. **STATUS column** (replace icon+text with Badge):
   - Import `Badge` from '../ui/badge'
   - Remove `getStatusIcon` import (no longer needed)
   - For tests: Return `<Badge variant={status} className="capitalize">{status}</Badge>`
   - For suites: Return `<span className="text-xs text-muted-foreground uppercase tracking-wide">Status</span>` (LIST-05)
   - Remove sorting button from header (simpler UI)
   - Set `size: 100`

3. **TITLE column** (new, test name only):
   - For tests: Display `testData?.title`
   - For suites: Display `<span className="text-xs text-muted-foreground uppercase tracking-wide">Title</span>` plus test count in parentheses
   - No fixed size (flexible width)

4. **DURATION column** (add Clock icon):
   - Import `Clock` icon from lucide-react
   - For tests: Display `<Clock className="h-4 w-4 text-muted-foreground" />` + formatted duration
   - For suites: Display Clock icon + `<span className="text-xs text-muted-foreground uppercase tracking-wide">Duration</span>` (LIST-05)
   - Remove sorting button from header (simpler UI)
   - Set `size: 120`

5. **Remove Progress and Actions columns**:
   - Delete the 'progress' column definition entirely (Phase 38 will add thin progress bars differently)
   - Delete the 'actions' column definition (not in Qase TMS design)
   - Remove DropdownMenu imports (no longer needed)
   - Remove MultiSegmentProgress import (no longer needed)

Keep the `createColumns` factory function pattern with `onSelectTest` callback for stable useMemo references.
  </action>
  <verify>
Run `npm run build` - no TypeScript errors. Open app and verify test list displays 4 columns: ID with gear icons, STATUS with colored badges, TITLE with test names, DURATION with clock icons. Suite rows show uppercase header labels.
  </verify>
  <done>
Test list displays new column structure: ID (gear icon + testops_id or UUID), STATUS (colored Badge), TITLE (test name), DURATION (clock icon + time). Suite rows show "Status", "Title", "Duration" labels in muted uppercase text.
  </done>
</task>

<task type="auto">
  <name>Task 2: Clean up unused statusIcon utility</name>
  <files>src/components/TestList/statusIcon.tsx</files>
  <action>
Delete the `src/components/TestList/statusIcon.tsx` file entirely.

This file provided `getStatusIcon()` which returned colored icons (CheckCircle2, XCircle, etc.) for status display. Now that STATUS column uses Badge component directly, this utility is no longer needed.

After deletion, verify no other files import from statusIcon.tsx. If any do, the build will fail and they need updating.
  </action>
  <verify>
Run `npm run build` - no import errors for statusIcon. Run `grep -r "statusIcon" src/` - should return no results (file deleted and no remaining imports).
  </verify>
  <done>
statusIcon.tsx deleted. No orphaned imports remain. Build succeeds without this file.
  </done>
</task>

</tasks>

<verification>
1. `npm run build` completes without errors
2. Open app with test data - test list shows 4 columns
3. ID column: gear icon visible, expand chevrons work for suites
4. STATUS column: colored Badge component (green for passed, red for failed, etc.)
5. TITLE column: test names displayed clearly
6. DURATION column: clock icon with formatted time
7. Suite rows: show "Status", "Title", "Duration" uppercase labels
8. No console errors or warnings
</verification>

<success_criteria>
- All 5 requirements (LIST-01 through LIST-05) implemented
- Build passes with no TypeScript errors
- Expand/collapse functionality preserved in ID column
- Badge status variants display correct colors
- statusIcon.tsx removed from codebase
</success_criteria>

<output>
After completion, create `.planning/phases/37-test-list-column-redesign/37-01-SUMMARY.md`
</output>
