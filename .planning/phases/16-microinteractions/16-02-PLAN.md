---
phase: 16-microinteractions
plan: 02
type: execute
wave: 2
depends_on: ["16-01"]
files_modified:
  - src/components/Dashboard/DashboardCard.tsx
  - src/components/Dashboard/StatsCard.tsx
  - src/components/TestList/TestListItem.tsx
  - src/components/TestList/SuiteGroup.tsx
  - src/components/TestDetails/TestStep.tsx
autonomous: false

must_haves:
  truths:
    - "Dashboard cards show hover elevation effect (lift and shadow on hover)"
    - "Test list items show hover feedback (translateX shift)"
    - "Collapse animations respect prefers-reduced-motion setting"
    - "All hover effects use GPU-accelerated properties (transform, box-shadow)"
  artifacts:
    - path: "src/components/Dashboard/DashboardCard.tsx"
      provides: "Card wrapper with hover elevation effect"
      contains: "&:hover"
    - path: "src/components/Dashboard/StatsCard.tsx"
      provides: "Stats card with hover effect"
      contains: "transition"
    - path: "src/components/TestList/TestListItem.tsx"
      provides: "List item with hover translate effect"
      contains: "&:hover"
    - path: "src/components/TestList/SuiteGroup.tsx"
      provides: "Collapse with reduced motion support"
      contains: "usePrefersReducedMotion"
    - path: "src/components/TestDetails/TestStep.tsx"
      provides: "Step collapse with reduced motion support"
      contains: "usePrefersReducedMotion"
  key_links:
    - from: "src/components/TestList/SuiteGroup.tsx"
      to: "src/hooks/usePrefersReducedMotion.ts"
      via: "hook import for collapse timeout"
      pattern: "timeout=.*prefersReducedMotion"
    - from: "src/components/TestDetails/TestStep.tsx"
      to: "src/hooks/usePrefersReducedMotion.ts"
      via: "hook import for collapse timeout"
      pattern: "timeout=.*prefersReducedMotion"
---

<objective>
Add hover feedback to interactive elements and accessibility support to existing Collapse animations.

Purpose: Users receive visual feedback when interacting with dashboard cards and test list items, and motion-sensitive users have instant transitions instead of animations.

Output: Hover effects on cards/list items, reduced motion support on Collapse components
</objective>

<execution_context>
@/Users/gda/.claude/get-shit-done/workflows/execute-plan.md
@/Users/gda/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/16-microinteractions/16-01-SUMMARY.md
@src/hooks/usePrefersReducedMotion.ts
@src/components/Dashboard/DashboardCard.tsx
@src/components/Dashboard/StatsCard.tsx
@src/components/TestList/TestListItem.tsx
@src/components/TestList/SuiteGroup.tsx
@src/components/TestDetails/TestStep.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add hover effects to dashboard cards</name>
  <files>
    src/components/Dashboard/DashboardCard.tsx
    src/components/Dashboard/StatsCard.tsx
  </files>
  <action>
Update DashboardCard.tsx to add hover elevation effect:

1. Add sx prop to Box with:
   - `transition` using theme.transitions.create for ['transform', 'box-shadow']
   - duration: theme.transitions.duration.shorter (200ms)
   - `&:hover` pseudo-selector with:
     - `transform: 'translateY(-2px)'` (subtle lift)
     - `boxShadow: 3` (elevated shadow)

Pattern:
```tsx
<Box
  sx={{
    gridColumn: 'span 1',
    gridRow: 'span 1',
    transition: (theme) =>
      theme.transitions.create(['transform', 'box-shadow'], {
        duration: theme.transitions.duration.shorter,
      }),
    '&:hover': {
      transform: 'translateY(-2px)',
      boxShadow: 3,
    },
    // ... existing responsive styles
  }}
>
```

Update StatsCard.tsx to add hover effect to Card:

1. Add sx prop to Card:
   - `transition` for ['transform', 'box-shadow']
   - `&:hover` with same translateY(-2px) and boxShadow: 4

Note: Use GPU-accelerated transform (not margin), boxShadow values from MUI theme (numbers 1-24).
  </action>
  <verify>
`npm run build` passes.
DashboardCard.tsx contains:
- transition property with theme.transitions.create
- &:hover selector with transform and boxShadow
StatsCard.tsx contains:
- transition and &:hover on Card component
  </verify>
  <done>
Dashboard cards lift and show shadow on hover, using GPU-accelerated properties
  </done>
</task>

<task type="auto">
  <name>Task 2: Add hover effect to test list items</name>
  <files>src/components/TestList/TestListItem.tsx</files>
  <action>
Update TestListItem.tsx to add hover translate effect:

1. Add sx prop to ListItemButton with:
   - `transition` using theme.transitions.create for ['transform', 'background-color']
   - `&:hover` with:
     - `transform: 'translateX(4px)'` (subtle right shift indicating clickability)
     - Keep existing MUI hover background color (don't override bgcolor)

Pattern:
```tsx
<ListItemButton
  onClick={handleClick}
  sx={{
    transition: (theme) =>
      theme.transitions.create(['transform', 'background-color'], {
        duration: theme.transitions.duration.shorter,
      }),
    '&:hover': {
      transform: 'translateX(4px)',
    },
  }}
>
```

Note: Don't add boxShadow to list items - would look cluttered. The translateX provides enough feedback.
  </action>
  <verify>
`npm run build` passes.
TestListItem.tsx contains:
- sx prop on ListItemButton
- transition property
- &:hover with transform: translateX
  </verify>
  <done>
Test list items shift right on hover, providing visual feedback for clickable elements
  </done>
</task>

<task type="auto">
  <name>Task 3: Add reduced motion support to Collapse components</name>
  <files>
    src/components/TestList/SuiteGroup.tsx
    src/components/TestDetails/TestStep.tsx
  </files>
  <action>
Update both files to use usePrefersReducedMotion hook:

SuiteGroup.tsx:
1. Import `usePrefersReducedMotion` from '../../hooks/usePrefersReducedMotion'
2. Call hook at component top: `const prefersReducedMotion = usePrefersReducedMotion()`
3. Update Collapse timeout: `timeout={prefersReducedMotion ? 0 : 'auto'}`

Before:
```tsx
<Collapse in={open} timeout="auto" unmountOnExit>
```

After:
```tsx
const prefersReducedMotion = usePrefersReducedMotion()
// ...
<Collapse in={open} timeout={prefersReducedMotion ? 0 : 'auto'} unmountOnExit>
```

TestStep.tsx:
1. Same pattern - import hook, call it, update Collapse timeout
2. Current Collapse has no timeout prop, add it: `timeout={prefersReducedMotion ? 0 : 'auto'}`

Before:
```tsx
<Collapse in={isExpanded}>
```

After:
```tsx
const prefersReducedMotion = usePrefersReducedMotion()
// ...
<Collapse in={isExpanded} timeout={prefersReducedMotion ? 0 : 'auto'}>
```

Note: 'auto' calculates optimal duration based on content height (MUI built-in).
  </action>
  <verify>
`npm run build` passes.
SuiteGroup.tsx contains:
- Import of usePrefersReducedMotion
- Hook call in component body
- Collapse with conditional timeout
TestStep.tsx contains:
- Same pattern: import, hook call, conditional timeout
  </verify>
  <done>
All Collapse animations skip animation when user prefers reduced motion
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 4: Verify microinteractions visually</name>
  <files>None (visual verification)</files>
  <action>
Human verification of microinteractions and accessibility features:
- Dashboard cards lift and show shadow on hover
- Stats cards have hover elevation effect
- Test list items shift right on hover
- Dashboard fades in when data loads (from Plan 01)
- All Collapse animations respect prefers-reduced-motion
  </action>
  <verify>
1. Run `npm run dev` and open http://localhost:5173
2. Load a test report JSON file
3. Verify dashboard fade-in:
   - Dashboard content should fade in smoothly over ~200ms (not instant pop)
4. Test hover effects:
   - Hover over any dashboard card (Stats, ProgressRing, etc.) - should lift and show shadow
   - Hover over test list items - should shift slightly to the right
5. Test collapse animations:
   - Expand/collapse a test suite in the list - should animate smoothly
   - Expand/collapse a test step in details view - should animate smoothly
6. Test reduced motion (optional):
   - In OS settings, enable "Reduce Motion" (macOS: System Preferences > Accessibility > Display)
   - Refresh page - dashboard should appear instantly (no fade)
   - Collapse/expand should be instant (no animation)
  </verify>
  <done>User approves visual verification or reports issues</done>
  <resume-signal>Type "approved" or describe issues</resume-signal>
</task>

</tasks>

<verification>
1. `npm run build` completes without errors
2. All 5 files modified with hover/transition styles
3. SuiteGroup.tsx and TestStep.tsx import and use usePrefersReducedMotion
4. Hover effects use only transform and box-shadow (GPU-accelerated)
5. Visual verification of animations working in browser
</verification>

<success_criteria>
- Dashboard cards lift 2px and show shadow on hover
- Test list items shift 4px right on hover
- All hover transitions are smooth (200ms)
- Collapse animations respect prefers-reduced-motion
- No visual jank or layout shifts during animations
</success_criteria>

<output>
After completion, create `.planning/phases/16-microinteractions/16-02-SUMMARY.md`
</output>
