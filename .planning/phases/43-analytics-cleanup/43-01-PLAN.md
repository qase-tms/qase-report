---
phase: 43-analytics-cleanup
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/Dashboard/index.tsx
  - src/components/Dashboard/BentoGrid.tsx
  - src/components/Dashboard/HistoryTimeline.tsx
autonomous: true

must_haves:
  truths:
    - "Analytics view shows 2-column grid layout (not 4-6 columns)"
    - "RunInfoCard and HostInfoCard are not rendered in Analytics"
    - "Recent Runs displays horizontally with horizontal scroll"
    - "All remaining widgets still render correctly"
  artifacts:
    - path: "src/components/Dashboard/index.tsx"
      provides: "Analytics view without RunInfoCard/HostInfoCard"
      contains: "// Metadata cards removed - now in sidebar"
    - path: "src/components/Dashboard/BentoGrid.tsx"
      provides: "2-column grid layout"
      contains: "grid-cols-2"
    - path: "src/components/Dashboard/HistoryTimeline.tsx"
      provides: "Horizontal Recent Runs layout"
      contains: "overflow-x-auto"
  key_links:
    - from: "src/components/Dashboard/index.tsx"
      to: "src/components/Dashboard/BentoGrid.tsx"
      via: "BentoGrid import and usage"
      pattern: "import.*BentoGrid"
---

<objective>
Clean up Analytics view by removing duplicate Run/Host info widgets, simplifying to 2-column grid, and converting Recent Runs to horizontal scroll layout.

Purpose: Remove redundancy after Phase 42 moved Run/Host info to sidebar. Create cleaner, more efficient Analytics layout.
Output: Cleaner Analytics view with 2-column grid and horizontal Recent Runs.
</objective>

<execution_context>
@/Users/gda/.claude/get-shit-done/workflows/execute-plan.md
@/Users/gda/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@src/components/Dashboard/index.tsx
@src/components/Dashboard/BentoGrid.tsx
@src/components/Dashboard/HistoryTimeline.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Remove RunInfoCard and HostInfoCard from Analytics</name>
  <files>src/components/Dashboard/index.tsx</files>
  <action>
Remove RunInfoCard and HostInfoCard from Analytics view since they are now in the sidebar:

1. Remove imports for RunInfoCard and HostInfoCard at top of file
2. Remove the two DashboardCard blocks containing RunInfoCard and HostInfoCard (lines 87-92)
3. Add comment where cards were removed: `{/* Run/Host info removed - now in sidebar */}`
4. Update the Skeleton loading state to remove the corresponding placeholders (lines 28-33)

The remaining widgets stay: SparklineCard, SuiteHealthCard, AttentionRequiredCard, QuickInsightsCard, AlertsPanel, TrendsChart, TestHealthWidget, HistoryTimeline.
  </action>
  <verify>
Run `npm run build` - no TypeScript errors about unused imports.
Check that RunInfoCard and HostInfoCard are not imported or rendered.
  </verify>
  <done>
Analytics view no longer renders RunInfoCard or HostInfoCard widgets.
  </done>
</task>

<task type="auto">
  <name>Task 2: Simplify BentoGrid to 2-column layout</name>
  <files>src/components/Dashboard/BentoGrid.tsx</files>
  <action>
Change BentoGrid from 4-6 column responsive layout to consistent 2-column layout:

Current layout:
```
grid-cols-1
md:grid-cols-4
md:auto-rows-[minmax(120px,auto)]
xl:grid-cols-6
xl:auto-rows-[minmax(140px,auto)]
```

New layout:
```
grid-cols-1
md:grid-cols-2
md:auto-rows-[minmax(120px,auto)]
```

Remove xl breakpoint since 2 columns is sufficient. Keep mobile as 1-column (grid-cols-1).
  </action>
  <verify>
Open dev server (`npm run dev`), navigate to Analytics tab.
Verify grid shows 2 columns on medium+ screens.
Verify 1 column on mobile (narrow viewport).
  </verify>
  <done>
BentoGrid displays in 2-column layout on desktop instead of 4-6 columns.
  </done>
</task>

<task type="auto">
  <name>Task 3: Convert HistoryTimeline to horizontal scroll layout</name>
  <files>src/components/Dashboard/HistoryTimeline.tsx</files>
  <action>
Convert Recent Runs from vertical timeline to horizontal scrollable cards:

1. Change container from `space-y-4` to `flex gap-4 overflow-x-auto pb-2` (horizontal scroll)
2. Add scrollbar styling: `scrollbar-thin scrollbar-thumb-muted scrollbar-track-transparent`
3. Convert each run item to a card layout:
   - Fixed width card: `min-w-[200px] max-w-[220px] flex-shrink-0`
   - Card content: icon at top, title, date, stats badges below
   - Remove vertical connector line (no longer needed for horizontal layout)
4. Stack content vertically within each card:
   - Status icon centered at top
   - Title below icon (truncate with ellipsis if too long)
   - Date/time below title
   - Stats badges at bottom
5. Keep existing helper functions (getRunStatusColor, getRunStatusIcon, formatDuration)

The horizontal layout allows scrolling through many runs without vertical space consumption.
  </action>
  <verify>
Open dev server, navigate to Analytics tab.
If history data loaded, verify Recent Runs shows horizontally.
Can scroll left/right if more than 2-3 runs exist.
Each run card shows icon, title, date, and stats.
  </verify>
  <done>
Recent Runs section displays horizontally with scroll capability. Each run is a compact card.
  </done>
</task>

</tasks>

<verification>
After all tasks complete:
1. `npm run build` completes without errors
2. Analytics view shows 2-column grid layout
3. RunInfoCard and HostInfoCard do not appear in Analytics
4. Recent Runs displays horizontally with scroll
5. All other widgets (trends, alerts, insights) still render correctly
</verification>

<success_criteria>
- Analytics displays widgets in 2-column grid (ANLYT-01)
- Run Information widget removed from Analytics (ANLYT-02)
- Host Information widget removed from Analytics (ANLYT-02)
- Recent Runs displays horizontally with scroll (ANLYT-03)
- Analytics layout cleaner with fewer redundant widgets
</success_criteria>

<output>
After completion, create `.planning/phases/43-analytics-cleanup/43-01-SUMMARY.md`
</output>
